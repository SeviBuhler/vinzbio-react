/* ===== MOBILE FIRST MAP STYLES ===== */
.map-section {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: clamp(
    calc(var(--vw) * 1), 
    calc(var(--vw) * 2), 
    calc(var(--vw) * 3)
  );
  filter: drop-shadow(0 
    clamp(2px, calc(var(--vh) * 0.3), 6px) 
    clamp(4px, calc(var(--vh) * 0.8), 12px) 
    rgba(0, 0, 0, 0.2)
  );
}

.map-container {
  width: 100%;
  height: 100%;
  transition: transform 0.6s ease-out, opacity 0.6s ease-out;
}

.map-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: clamp(
    calc(var(--vh) * 25), 
    calc(var(--vh) * 60), 
    calc(var(--vh) * 70)
  );
  border-radius: clamp(
    calc(var(--vw) * 1), 
    calc(var(--vw) * 2), 
    calc(var(--vw) * 3)
  );
  overflow: hidden;
  box-shadow: 0 
    clamp(2px, calc(var(--vh) * 0.3), 6px) 
    clamp(4px, calc(var(--vh) * 0.8), 12px) 
    rgba(0, 0, 0, 0.1);
}

.map {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transition: transform 0.8s ease-out, opacity 0.8s ease-out;
}

.map.ctrl-pressed {
  cursor: grab;
}

.map-tip {
  display: none;
}

.map-error {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f8f8f8;
  color: #666;
  font-size: clamp(
    calc(var(--vh) * 1.5), 
    calc(var(--vh) * 2), 
    calc(var(--vh) * 2.5)
  );
  border-radius: inherit;
  padding: clamp(
    calc(var(--vw) * 4), 
    calc(var(--vw) * 6), 
    calc(var(--vw) * 8)
  );
}

.map-loading {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f5f7fa;
  border-radius: inherit;
  color: #3965b5;
  font-size: clamp(
    calc(var(--vh) * 1.2), 
    calc(var(--vh) * 1.5), 
    calc(var(--vh) * 2)
  );
  box-shadow: 0 
    clamp(2px, calc(var(--vh) * 0.3), 6px) 
    clamp(4px, calc(var(--vh) * 0.8), 12px) 
    rgba(0, 0, 0, 0.1);
}

/* Animation classes */
.slide-up {
  opacity: 1;
  transform: translateY(0);
}

.slide-hidden {
  opacity: 0;
  transform: translateY(clamp(
    calc(var(--vh) * 3), 
    calc(var(--vh) * 4), 
    calc(var(--vh) * 5)
  ));
}

/* Hide Google Maps controls on mobile */
.gmnoprint {
  display: none !important;
}

/* ===== RESPONSIVE ANPASSUNGEN ===== */

/* Sehr kleine Höhe (Mobile Browser mit URL-Leiste) */
@media (max-height: 600px) {
  .map-section {
    padding: clamp(
      calc(var(--vw) * 0.5), 
      calc(var(--vw) * 1), 
      calc(var(--vw) * 1.5)
    );
  }

  .map-wrapper {
    min-height: clamp(
      calc(var(--vh) * 30), 
      calc(var(--vh) * 60), 
      calc(var(--vh) * 70)
    );
    border-radius: clamp(
      calc(var(--vw) * 0.5), 
      calc(var(--vw) * 1), 
      calc(var(--vw) * 1.5)
    );
  }

  .map-error, .map-loading {
    font-size: clamp(
      calc(var(--vh) * 1.8), 
      calc(var(--vh) * 2.2), 
      calc(var(--vh) * 2.8)
    );
    padding: clamp(
      calc(var(--vw) * 3), 
      calc(var(--vw) * 4), 
      calc(var(--vw) * 5)
    );
  }
}

/* Größere Bildschirme - 768px und aufwärts */
@media (min-width: 768px) {
  .map-section {
    padding: clamp(
      calc(var(--vw) * 1.5), 
      calc(var(--vw) * 2.5), 
      calc(var(--vw) * 3.5)
    );
  }

  .map-wrapper {
    min-height: clamp(
      calc(var(--vh) * 30), 
      calc(var(--vh) * 60), 
      calc(var(--vh) * 70)
    );
    border-radius: clamp(
      calc(var(--vw) * 1.5), 
      calc(var(--vw) * 2.5), 
      calc(var(--vw) * 3.5)
    );
    box-shadow: 0 
      clamp(3px, calc(var(--vh) * 0.4), 8px) 
      clamp(6px, calc(var(--vh) * 1), 16px) 
      rgba(0, 0, 0, 0.15);
  }

  .map-tip {
    display: block;
    position: absolute;
    bottom: clamp(
      calc(var(--vh) * 1.5), 
      calc(var(--vh) * 2), 
      calc(var(--vh) * 2.5)
    );
    left: clamp(
      calc(var(--vw) * 1.5), 
      calc(var(--vw) * 2), 
      calc(var(--vw) * 2.5)
    );
    padding: clamp(
      calc(var(--vh) * 0.8), 
      calc(var(--vh) * 1), 
      calc(var(--vh) * 1.2)
    ) clamp(
      calc(var(--vw) * 1), 
      calc(var(--vw) * 1.5), 
      calc(var(--vw) * 2)
    );
    background-color: rgba(255, 255, 255, 0.95);
    border-radius: clamp(
      calc(var(--vw) * 0.5), 
      calc(var(--vw) * 0.8), 
      calc(var(--vw) * 1)
    );
    font-size: clamp(
      calc(var(--vh) * 1.2), 
      calc(var(--vh) * 1.4), 
      calc(var(--vh) * 1.6)
    );
    box-shadow: 0 
      clamp(1px, calc(var(--vh) * 0.2), 3px) 
      clamp(3px, calc(var(--vh) * 0.5), 8px) 
      rgba(0, 0, 0, 0.1);
    z-index: 10;
    transition: opacity 0.3s ease;
  }

  .map-tip.hidden {
    opacity: 0;
  }

  /* Show Google Maps controls on larger screens */
  .gmnoprint {
    display: block !important;
  }

  /* Make map controls bigger for better usability */
  .map .gmnoprint .gm-style-mtc button,
  .map .gmnoprint .gm-style-mtc div {
    height: clamp(
      calc(var(--vh) * 3), 
      calc(var(--vh) * 3.5), 
      calc(var(--vh) * 4)
    ) !important;
    min-width: clamp(
      calc(var(--vh) * 3), 
      calc(var(--vh) * 3.5), 
      calc(var(--vh) * 4)
    ) !important;
    padding: clamp(
      calc(var(--vh) * 0.8), 
      calc(var(--vh) * 1), 
      calc(var(--vh) * 1.2)
    ) !important;
  }
}

/* Desktop - 1200px und aufwärts */
@media (min-width: 1200px) {
  .map-section {
    padding: clamp(
      calc(var(--vw) * 2), 
      calc(var(--vw) * 3), 
      calc(var(--vw) * 4)
    );
    filter: drop-shadow(0 
      clamp(4px, calc(var(--vh) * 0.5), 10px) 
      clamp(8px, calc(var(--vh) * 1.2), 20px) 
      rgba(0, 0, 0, 0.25)
    );
  }

  .map-wrapper {
    min-height: clamp(
      calc(var(--vh) * 35), 
      calc(var(--vh) * 60), 
      calc(var(--vh) * 70)
    );
    border-radius: clamp(
      calc(var(--vw) * 2), 
      calc(var(--vw) * 3), 
      calc(var(--vw) * 4)
    );
    box-shadow: 0 
      clamp(4px, calc(var(--vh) * 0.6), 12px) 
      clamp(8px, calc(var(--vh) * 1.5), 24px) 
      rgba(0, 0, 0, 0.2);
  }

  .map-tip {
    bottom: clamp(
      calc(var(--vh) * 2), 
      calc(var(--vh) * 2.5), 
      calc(var(--vh) * 3)
    );
    left: clamp(
      calc(var(--vw) * 2), 
      calc(var(--vw) * 2.5), 
      calc(var(--vw) * 3)
    );
    padding: clamp(
      calc(var(--vh) * 1), 
      calc(var(--vh) * 1.2), 
      calc(var(--vh) * 1.5)
    ) clamp(
      calc(var(--vw) * 1.5), 
      calc(var(--vw) * 2), 
      calc(var(--vw) * 2.5)
    );
    font-size: clamp(
      calc(var(--vh) * 1.4), 
      calc(var(--vh) * 1.6), 
      calc(var(--vh) * 1.8)
    );
    border-radius: clamp(
      calc(var(--vw) * 0.8), 
      calc(var(--vw) * 1), 
      calc(var(--vw) * 1.2)
    );
  }

  .map-error, .map-loading {
    font-size: clamp(
      calc(var(--vh) * 1.6), 
      calc(var(--vh) * 2), 
      calc(var(--vh) * 2.4)
    );
    padding: clamp(
      calc(var(--vw) * 3), 
      calc(var(--vw) * 4), 
      calc(var(--vw) * 5)
    );
  }

  /* Enhanced map controls for desktop */
  .map .gmnoprint .gm-style-mtc button,
  .map .gmnoprint .gm-style-mtc div {
    height: clamp(
      calc(var(--vh) * 3.5), 
      calc(var(--vh) * 4), 
      calc(var(--vh) * 4.5)
    ) !important;
    min-width: clamp(
      calc(var(--vh) * 3.5), 
      calc(var(--vh) * 4), 
      calc(var(--vh) * 4.5)
    ) !important;
    padding: clamp(
      calc(var(--vh) * 1), 
      calc(var(--vh) * 1.2), 
      calc(var(--vh) * 1.5)
    ) !important;
  }
}